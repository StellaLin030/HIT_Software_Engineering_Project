{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\naxios.defaults.withCredentials = true;\n// 设置默认的基础 URL\n//axios.defaults.baseURL = 'http://127.0.0.1:5000';\nimport router from '../router';\nexport default {\n  name: 'LogoutComponent',\n  data() {\n    return {\n      logoutMessage: ''\n    };\n  },\n  async created() {\n    await this.logout();\n  },\n  methods: {\n    async logout() {\n      try {\n        const response = await axios.get('/api/logout', {\n          withCredentials: true\n        });\n        console.log('Logout response:', response);\n        if (response.data.status === 'success') {\n          this.logoutMessage = response.data.message;\n          setTimeout(() => {\n            router.push({\n              name: 'Home'\n            });\n            this.logoutMessage = '';\n          }, 2000);\n        } else {\n          this.logoutMessage = response.data.message;\n        }\n      } catch (error) {\n        console.error('Logout request failed:', error);\n        this.logoutMessage = '登出失败,你还没有登录或者网络有问题！';\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","defaults","withCredentials","router","name","data","logoutMessage","created","logout","methods","response","get","console","log","status","message","setTimeout","push","error"],"sources":["src/components/Logout.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2>Logging out...</h2>\r\n    <p>{{ logoutMessage }}</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\naxios.defaults.withCredentials = true;\r\n// 设置默认的基础 URL\r\n//axios.defaults.baseURL = 'http://127.0.0.1:5000';\r\nimport router from '../router';\r\n\r\nexport default {\r\n  name: 'LogoutComponent',\r\n  data() {\r\n    return {\r\n      logoutMessage: ''\r\n    };\r\n  },\r\n  async created() {\r\n    await this.logout();\r\n  },\r\n  methods: {\r\n    async logout() {\r\n      try {\r\n        const response = await axios.get('/api/logout', { withCredentials: true });\r\n        console.log('Logout response:', response);\r\n        if (response.data.status === 'success') {\r\n          this.logoutMessage = response.data.message;\r\n          setTimeout(() => {\r\n            router.push({ name: 'Home' });\r\n            this.logoutMessage = '';\r\n          }, 2000);\r\n        } else {\r\n          this.logoutMessage = response.data.message;\r\n        }\r\n      } catch (error) {\r\n        console.error('Logout request failed:', error);\r\n        this.logoutMessage = '登出失败,你还没有登录或者网络有问题！';\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\ndiv {\r\n  text-align: center;\r\n  margin-top: 50px;\r\n}\r\n</style>\r\n"],"mappings":";AAQA,OAAAA,KAAA;AACAA,KAAA,CAAAC,QAAA,CAAAC,eAAA;AACA;AACA;AACA,OAAAC,MAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,aAAA;IACA;EACA;EACA,MAAAC,QAAA;IACA,WAAAC,MAAA;EACA;EACAC,OAAA;IACA,MAAAD,OAAA;MACA;QACA,MAAAE,QAAA,SAAAV,KAAA,CAAAW,GAAA;UAAAT,eAAA;QAAA;QACAU,OAAA,CAAAC,GAAA,qBAAAH,QAAA;QACA,IAAAA,QAAA,CAAAL,IAAA,CAAAS,MAAA;UACA,KAAAR,aAAA,GAAAI,QAAA,CAAAL,IAAA,CAAAU,OAAA;UACAC,UAAA;YACAb,MAAA,CAAAc,IAAA;cAAAb,IAAA;YAAA;YACA,KAAAE,aAAA;UACA;QACA;UACA,KAAAA,aAAA,GAAAI,QAAA,CAAAL,IAAA,CAAAU,OAAA;QACA;MACA,SAAAG,KAAA;QACAN,OAAA,CAAAM,KAAA,2BAAAA,KAAA;QACA,KAAAZ,aAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}